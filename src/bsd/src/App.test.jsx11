import React from "react";
import App from "./App";
import Header from "./components/layout/header";
import Footer from "./components/layout/footer";
import Dashboard from "./components/dashboard/dashBoard";

jest.mock("./components/layout/header");
jest.mock("./components/layout/footer");
jest.mock("./components/dashboard/dashBoard");
jest.mock("./components/file-recon/fileRecon");
jest.mock("./components/file-recon/SideBar");
jest.mock("./components/errors/errorHandler");
jest.mock("axios");
jest.mock('keycloak-js')

describe("Tests for App Router", () => {
    test("Should render page header, footer and dashBoard on default route", () => {
        // Arrange
        Header.mockImplementation(() => <div>HeaderMock</div>);
        Footer.mockImplementation(() => <div>FooterMock</div>);
        Dashboard.mockImplementation(() => <div>DashBoardMock</div>);

        // Act
        render(
            <MemoryRouter>
                <App />
            </MemoryRouter>
        );

        // Assert
        expect(screen.getByText("PageHeaderMock")).toBeInTheDocument();
        expect(screen.getByText("HomePageMock")).toBeInTheDocument();
    });
});
